




<!DOCTYPE html>
<!--[if IE 7]> <html lang="en" class="lt-ie9 lt-ie8 no-js"> <![endif]-->
<!--[if IE 8]> <html lang="en" class="lt-ie9 no-js"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="profile" href="http://gmpg.org/xfn/11">
  <link rel="pingback" href="https://www.turing.ac.uk/xmlrpc.php">

  <script src="//use.typekit.net/vul4hnx.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

    <!--[if (gte IE 6)&(lte IE 8)]>
  <script type="text/javascript" src="https://www.turing.ac.uk/wp-content/themes/ati/assets/js/selectivizr/selectivizr-min.js"></script>
  <noscript><link rel="stylesheet" href="https://www.turing.ac.uk/wp-content/themes/ati/style.css" /></noscript>
  <![endif]-->
  <title>Cython</title>

  <!-- This site is optimized with the Yoast SEO plugin v4.8 - https://yoast.com/wordpress/plugins/seo/ -->
  <link rel="canonical" href="" />
  <meta property="og:locale" content="en_GB" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Cython" />
  <meta property="og:description" content="" />
  <meta property="og:url" content="https://www.turing.ac.uk/news/cray-provide-cray-urika-gx-system-alan-turing-institute/" />
  <meta property="og:site_name" content="The Alan Turing Institute" />
  <meta property="article:section" content="News" />
  <meta property="article:published_time" content="2017-07-13T09:10:42+01:00" />
  <meta property="og:image" content="https://aticdn.s3-eu-west-1.amazonaws.com/2017/07/1865_RW_Location_39-300x200.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:title" content="Cython" />
  <meta name="twitter:image" content="https://aticdn.s3-eu-west-1.amazonaws.com/2017/07/1865_RW_Location_39-300x200.jpg" />
  <!-- / Yoast SEO plugin. -->

  <link rel='dns-prefetch' href='//www.turing.ac.uk' />
  <link rel='dns-prefetch' href='//ajax.googleapis.com' />
  <link rel='dns-prefetch' href='//s.w.org' />
  <link rel="alternate" type="application/rss+xml" title="The Alan Turing Institute &raquo; Feed" href="https://www.turing.ac.uk/feed/" />
    <script type="text/javascript">
      window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.turing.ac.uk\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
      !function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
    </script>
    <style type="text/css">
      img.wp-smiley,
      img.emoji {
        display: inline !important;
        border: none !important;
        box-shadow: none !important;
        height: 1em !important;
        width: 1em !important;
        margin: 0 .07em !important;
        vertical-align: -0.1em !important;
        background: none !important;
        padding: 0 !important;
      }
    </style>

  <link href="/rsd-engineeringcourse/css/screen.min.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/rsd-engineeringcourse/css/jekyll-styles.css" rel="stylesheet" type="text/css">
  <link href="/rsd-engineeringcourse/site-styles/local_styles.css" rel="stylesheet" type="text/css">
  <link href="/rsd-engineeringcourse/site-styles/ipython.css" rel="stylesheet" type="text/css">

  <link rel='stylesheet' id='some_like_it_neat-style-css'  href='/rsd-engineeringcourse/ati_css/style.css' type='text/css' />

  <link rel="shortcut icon" href="/rsd-engineeringcourse/images/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="/rsd-engineeringcourse/favicon-152.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/rsd-engineeringcourse/favicon-144.png">

  <script src="/rsd-engineeringcourse/js/lib/modernizr-custom.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>

    <script>
      var cuttingTheMustard = document.querySelector && window.localStorage && window.addEventListener;

      Modernizr.load({
        //cutting the mustard as used by the BBC
        test: cuttingTheMustard
        //if old browser load the shiv
        ,
        nope: [
          '/rsd-engineeringcourse/js/lib/html5shiv-printshiv.min.js', '/rsd-engineeringcourse/js/lib/respond.min.js'
        ]
      });
      //set conditional assets for main.js
      var globalSiteSpecificVars = {
        pathToJquery: "/rsd-engineeringcourse/js/lib/jquery-1.9.1.min",
        googleAnalyticsIdsArray: [] //specify array of site specific id's NOT UCL generic UA-943297-1
      }
      if (cuttingTheMustard) {
        globalSiteSpecificVars.pathToJquery = '/rsd-engineeringcourse/js/lib/jquery-2.1.1.min';
      }
    </script>
    <script src="/rsd-engineeringcourse/js/lib/require.min.js"></script>
    <script src="/rsd-engineeringcourse/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/rsd-engineeringcourse/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>

  <link rel='shortlink' href='https://www.turing.ac.uk/?p=9266' />

        <style>
          .menu-button i.navicon {
            display: none;
          }
        </style>

  <!--
      Plugin: Super Simple Google Analytics
  Plugin URL: Super Simple Google Analytics

  -->

  <script type="text/javascript">
    window.google_analytics_uacct = "UA-87633703-1";
  </script>

</head>

<body id="index" class="layout-vertical layout-vertical--nav-1col">

  <header class="header header--desktop">

  <a class="header__close" href="#">
    <img src="/rsd-engineeringcourse/images/close.png" class="lazy" data-src="//static.ucl.ac.uk/indigo/images/close.png" alt="X" />Close</a>

  <!-- <header id="masthead" class="page-header" role="banner">

      <a class="logo-box" href='https://www.turing.ac.uk'></a>
      <div class="topbox">

  </header> -->

  <div class="wrapper">

    <div class="photograph">
  <div class="brand">
    <!-- <p class="brand__heading">Research Software Engineering with Python</p>
    <a href="/" class="brand__link"><span class="visually-hidden">Home</span></a> -->
    <img src="/rsd-engineeringcourse/img/header_polygon_2400_320.png" data-src="/rsd-engineeringcourse/img/header_polygon_2400_320.png" alt="Turing logo" id="logo" class="brand__logo lazy" href="/rsd-engineeringcourse/">  
  </div>
</div>
 

    <div class="sidebar">

      <nav class="nav nav--mobile">
        <ul>
          




        </ul>
      </nav>

      <nav class="nav nav--left">
        <ul>
          <li><a href="/rsd-engineeringcourse/">Home</a></li>


 <li class="active"> <a href="/rsd-engineeringcourse/ch00python/">Introduction to Python</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/00pythons.html">Many kinds of Python</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/010exemplar.html">An example program</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/015variables.html">Variables</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/016using_functions.html">Using Functions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/023types.html">Types</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/025containers.html">Containers</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/028dictionaries.html">Dictionaries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/029structures.html">Structures</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/030MazeSolution.html">Maze Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/032conditionality.html">Conditionality</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/035looping.html">Looping</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/036MazeSolution2.html">Maze Control Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/037comprehensions.html">Comprehensions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/038SolutionComprehension.html">Maze comprehension solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/040functions.html">Defining functions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/050import.html">Modules</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch00python/101Classes.html">Classes</a> </li> </ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch01data/">Research Data in Python</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/060files.html">Working with files</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/061internet.html">Internet</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/062csv.html">CSV</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/064JsonYamlXML.html">Structured Datafiles</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/065MazeSaved.html">Maze Files Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/066QuakeExercise.html">Earthquakes Exercise</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/068QuakesSolution.html">Quakes Solution</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/072plotting.html">Plotting</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/082NumPy.html">Numerical Python</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/084Boids.html">The Boids</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch01data/110Capstone.html">Understanding the Exemplar</a> </li> </ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch02git/">Version Control</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/01Intro.html">Introduction to Version Control</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/02Solo.html">Solo Git</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/03Mistakes.html">Fixing Mistakes</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/04Publishing.html">Publishing</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/05Collaboration.html">Collaboration</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/06ForkAndPull.html">Fork and Pull</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/09GitTheory.html">Git Theory</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/10Branches.html">Branches</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/11Miscellany.html">Git miscellany</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/12Remotes.html">Remotes</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/13Rebase.html">Rebase</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch02git/14Bisect.html">Bisect</a> </li></ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch03tests/">Testing</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/01testingbasics.html">Testing Basics</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/02SaskatchewanFields.html">The Fields of Saskatchewan</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/03pytest.html">Test Frameworks</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/04EnergyExample.html">Energy Example</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/05Mocks.html">Mocks</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/06Debugger.html">Debugger</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/07CI.html">Continuous Integration</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch03tests/08DiffusionExample.html">Diffusion Example</a> </li> </ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch04packaging/">Software Projects</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/01Installation.html">Installing Libraries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/02Libraries.html">Libraries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/03Argparse.html">Argparse</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/04WritingLibraries.html">Writing Libraries</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/05Packaging.html">Packaging</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/07Process.html">Agile and Waterfall</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/08Licensing.html">Licensing</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch04packaging/09Issues.html">Issue Tracking</a> </li> </ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch05construction/">Construction and Design</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/01introduction.html">Construction</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/02conventions.html">Coding Conventions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/03comments.html">Comments</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/05refactoring.html">Refactoring</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/06objects.html">Object Refactorings</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/08objects.html">Object Oriented Design</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/09patterns.html">Design Patterns</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch05construction/10boids.html">Exercise - Boids</a> </li> </ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch07dry/">Advanced Programming Techniques</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/01intro.html">Don't Repeat Yourself</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/020Functional.html">Functional Programming</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/025Iterators.html">Iterators, Generators, Decorators, and Contexts</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/040Exceptions.html">Exceptions</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/049Operators.html">Operator Overloading</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/050OperatorsExample.html">Operator Overloading (example)</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch07dry/060Metaprogramming.html">Metaprogramming</a> </li></ul> </li><li class="active"> <a href="/rsd-engineeringcourse/ch08performance/">Programming for Speed</a><ul><li class="active"> <a href="/rsd-engineeringcourse/ch08performance/010intro.html">Two Mandelbrots</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch08performance/015mandels.html">Faster Mandelbrots?</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch08performance/020numpy.html">NumPy</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch08performance/040cython.html">Cython</a> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch08performance/050scaling.html">Scaling</a> </li></ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch09fileformats/">Scientific file formats</a><ul><li class="inactive"> <a href="/rsd-engineeringcourse/ch09fileformats/07SerialisationAndNormalisation.html">Serialisation and normalisation</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch09fileformats/08Deserialisation.html">Deserialisation</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch09fileformats/09DSLs.html">Domain specific languages</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch09fileformats/10MarkupLanguages.html">Markup languages</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch09fileformats/11ControlledVocabularies.html">Controlled vocabularies</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch09fileformats/12SemanticModels.html">Semantic models</a> </li> </ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/ch98rubrics/">Assessment</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/ch98rubrics/Assessment1.html">Packaging Greengraph</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch98rubrics/Assessment2.html">Refactoring the Bad Boids</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch98rubrics/PackagingTreasure.html"></a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/ch98rubrics/RefactoringTrees.html"></a> </li></ul> </li> <li class="active"> <a href="/rsd-engineeringcourse/session99/">Installation</a><ul> <li class="inactive"> <a href="/rsd-engineeringcourse/session99/linux.html">Linux</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/session99/mac.html">Mac OSX</a> </li> <li class="inactive"> <a href="/rsd-engineeringcourse/session99/windows.html">Windows</a> </li></ul> </li> 

        </ul>
      </nav>

    </div>
    <!-- end .sidebar -->

    <nav class="nav nav--top">
      <ul>
        
      </ul>
    </nav>

  </div>
  <!-- end .wrapper -->

  </header>
  <!-- end .header -->

  <div class="site-content wrapper">

    <header class="header header--mobile default-header">
      <a class="header__open" href="#">
        <img src="/rsd-engineeringcourse/images/ucl-menu.svg" alt="Menu" />
      </a>
    </header>

    <div class="site-content__inner clearfix">
      <div class="site-content__body">

          
            <nav class="breadcrumb clearfix">
              <ul class="breadcrumb__list">
                <!-- <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/">UCL</a></li>
 
<li class="breadcrumb__item"><a href="/rsd-engineeringcourse/">Research Software Engineering with Python</a></li>
-->



              </ul>
            </nav>
           <div class="site-content__main">
            
               <div id="slidelink">
                 <a href="/rsd-engineeringcourse/ch08performance/040cython.ipynb">Notebook download</a>
               </div>
            
            
          
          

    <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Cython">Cython<a class="anchor-link" href="#Cython">&#182;</a></h2><p>Cython can be viewed as an extension of Python where variables and functions are annotated with extra information, in particular types. The resulting Cython source code will be compiled into optimized C or C++ code, and thereby yielding substantial speed-up of slow Python code. In other words, Cython provides a way of writing Python with comparable performance to that of C/C++.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Start--Coding-in-Cython">Start  Coding in Cython<a class="anchor-link" href="#Start--Coding-in-Cython">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Cython code must, unlike Python, be compiled. This happens in the following stages:</p>
<ul>
<li>The cython code in <code>.pyx</code> file will be translated to a <code>C</code> file.</li>
<li>The <code>C</code> file will be compiled by a C compiler into a shared library, which will be directly loaded into Python. </li>
</ul>
<p>In a Jupyter notebook, everything is a lot easier. One needs only to load the Cython extension (<code>%load_ext Cython</code>) at the beginning and put <code>%%cython</code> mark in front of cells of Cython code. Cells with Cython mark will be treated as a <code>.pyx</code> code and consequently, compiled into C.</p>
<p>For details, please see <a href="http://docs.cython.org/src/quickstart/build.html">Building Cython Code</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Pure python Mandelbrot set:</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">xmin</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.5</span>
<span class="n">ymin</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
<span class="n">xmax</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">ymax</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">resolution</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">xstep</span> <span class="o">=</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span><span class="p">)</span> <span class="o">/</span> <span class="n">resolution</span>
<span class="n">ystep</span> <span class="o">=</span> <span class="p">(</span><span class="n">ymax</span> <span class="o">-</span> <span class="n">ymin</span><span class="p">)</span> <span class="o">/</span> <span class="n">resolution</span>
<span class="n">xs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">xmin</span> <span class="o">+</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span><span class="p">)</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="n">resolution</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">resolution</span><span class="p">)]</span>
<span class="n">ys</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ymin</span> <span class="o">+</span> <span class="p">(</span><span class="n">ymax</span> <span class="o">-</span> <span class="n">ymin</span><span class="p">)</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="n">resolution</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">resolution</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">mandel</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">position</span>
    <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">limit</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">position</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">limit</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Compiled by Cython:</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> Cython 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="n">cython</span>

<span class="k">def</span> <span class="nf">mandel_cython</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mf">50</span><span class="p">):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">position</span>
    <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">2</span><span class="p">:</span>
        <span class="n">limit</span> <span class="o">-=</span> <span class="mf">1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">**</span><span class="mf">2</span> <span class="o">+</span> <span class="n">position</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0</span>
    <span class="k">return</span> <span class="n">limit</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's verify the result</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">f</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">([[</span><span class="n">mandel</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ys</span><span class="p">],</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Pure Python&#39;</span><span class="p">)</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">([[</span><span class="n">mandel_cython</span><span class="p">(</span><span class="nb">complex</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ys</span><span class="p">],</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Cython&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 1.0, &#39;Cython&#39;)</pre>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> [[mandel(complex(x,y)) for x in xs] for y in ys] # pure python
<span class="o">%</span><span class="k">timeit</span> [[mandel_cython(complex(x,y)) for x in xs] for y in ys] # cython
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>460 ms  9.58 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
316 ms  1.77 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We have improved the performance of a factor of 1.5 by just using the Cython compiler, <strong>without changing the code</strong>!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Cython-with-C-Types">Cython with C Types<a class="anchor-link" href="#Cython-with-C-Types">&#182;</a></h3><p>But we can do better by telling Cython what C data type we would use in the code. Note we're not actually writing C, we're writing Python with C types.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>typed variable</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="n">cython</span>
<span class="k">def</span> <span class="nf">var_typed_mandel_cython</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mf">50</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">double</span> <span class="kt">complex</span> <span class="nf">value</span> <span class="c"># typed variable</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">position</span>
    <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">2</span><span class="p">:</span>
        <span class="n">limit</span> <span class="o">-=</span> <span class="mf">1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">**</span><span class="mf">2</span> <span class="o">+</span> <span class="n">position</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0</span>
    <span class="k">return</span> <span class="n">limit</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>typed function + typed variable</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="n">cython</span>
<span class="k">cpdef</span> <span class="nf">call_typed_mandel_cython</span><span class="p">(</span><span class="n">double</span> <span class="nb">complex</span> <span class="n">position</span><span class="p">,</span>
                               <span class="nb">int</span> <span class="n">limit</span><span class="o">=</span><span class="mf">50</span><span class="p">):</span> <span class="c"># typed function</span>
    <span class="k">cdef</span> <span class="kt">double</span> <span class="kt">complex</span> <span class="nf">value</span> <span class="c"># typed variable</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">position</span>
    <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">2</span><span class="p">:</span>
        <span class="n">limit</span> <span class="o">-=</span> <span class="mf">1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">**</span><span class="mf">2</span> <span class="o">+</span> <span class="n">position</span>
        <span class="k">if</span> <span class="n">limit</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0</span>
    <span class="k">return</span> <span class="n">limit</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>performance of one number:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pure python</span>
<span class="o">%</span><span class="k">timeit</span> a = mandel(complex(0, 0)) 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>9.94 s  44 ns per loop (mean  std. dev. of 7 runs, 100000 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># primitive cython</span>
<span class="o">%</span><span class="k">timeit</span> a = mandel_cython(complex(0, 0)) 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>6.52 s  44.7 ns per loop (mean  std. dev. of 7 runs, 100000 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># cython with C type variable</span>
<span class="o">%</span><span class="k">timeit</span> a = var_typed_mandel_cython(complex(0, 0)) 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>3.2 s  16.5 ns per loop (mean  std. dev. of 7 runs, 100000 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># cython with typed variable + function</span>
<span class="o">%</span><span class="k">timeit</span> a = call_typed_mandel_cython(complex(0, 0))
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>638 ns  3.45 ns per loop (mean  std. dev. of 7 runs, 1000000 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Cython-with-numpy-ndarray">Cython with numpy ndarray<a class="anchor-link" href="#Cython-with-numpy-ndarray">&#182;</a></h3><p>You can use NumPy from Cython exactly the same as in regular Python, but by doing so you are losing potentially high speedups because Cython has support for fast access to NumPy arrays.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">ymatrix</span><span class="p">,</span> <span class="n">xmatrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="n">ymin</span><span class="p">:</span><span class="n">ymax</span><span class="p">:</span><span class="n">ystep</span><span class="p">,</span> <span class="n">xmin</span><span class="p">:</span><span class="n">xmax</span><span class="p">:</span><span class="n">xstep</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">xmatrix</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="n">ymatrix</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="n">cython</span>
<span class="k">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">cimport</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 

<span class="k">cpdef</span> <span class="nf">numpy_cython_1</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">[</span><span class="n">double</span> <span class="nb">complex</span><span class="p">,</span> <span class="n">ndim</span><span class="o">=</span><span class="mf">2</span><span class="p">]</span> <span class="n">position</span><span class="p">,</span> 
                     <span class="nb">int</span> <span class="n">limit</span><span class="o">=</span><span class="mf">50</span><span class="p">):</span> 
    <span class="k">cdef</span> <span class="kt">np</span>.<span class="kt">ndarray</span>[<span class="nf">long</span><span class="p">,</span><span class="nf">ndim</span><span class="o">=</span><span class="mf">2</span><span class="p">]</span> <span class="n">diverged_at</span>
    <span class="k">cdef</span> <span class="kt">double</span> <span class="kt">complex</span> <span class="nf">value</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">xlim</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">ylim</span>
    <span class="k">cdef</span> <span class="kt">double</span> <span class="kt">complex</span> <span class="nf">pos</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">steps</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">x</span><span class="p">,</span> <span class="nf">y</span>

    <span class="n">xlim</span> <span class="o">=</span> <span class="n">position</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">1</span><span class="p">]</span>
    <span class="n">ylim</span> <span class="o">=</span> <span class="n">position</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
    <span class="n">diverged_at</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">ylim</span><span class="p">,</span> <span class="n">xlim</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">xlim</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">ylim</span><span class="p">):</span>
            <span class="n">steps</span> <span class="o">=</span> <span class="n">limit</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">position</span><span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">position</span><span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
            <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">2</span> <span class="ow">and</span> <span class="n">steps</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="p">:</span>
                <span class="n">steps</span> <span class="o">-=</span> <span class="mf">1</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">**</span><span class="mf">2</span> <span class="o">+</span> <span class="n">pos</span>
            <span class="n">diverged_at</span><span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">steps</span>
  
    <span class="k">return</span> <span class="n">diverged_at</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note the double import of numpy: the standard numpy module and a Cython-enabled version of numpy that ensures fast indexing of and other operations on arrays. Both import statements are necessary in code that uses numpy arrays. The new thing in the code above is declaration of arrays by np.ndarray.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> data_cy = [[mandel(complex(x,y)) for x in xs] for y in ys] # pure python
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>456 ms  5.31 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> data_cy = [[call_typed_mandel_cython(complex(x,y)) for x in xs] for y in ys] # typed cython
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>43.6 ms  130 s per loop (mean  std. dev. of 7 runs, 10 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> numpy_cython_1(values) # ndarray
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>28.1 ms  180 s per loop (mean  std. dev. of 7 runs, 10 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>A trick of using <code>np.vectorize</code></strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">numpy_cython_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">call_typed_mandel_cython</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> numpy_cython_2(values) #  vectorize
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>33.7 ms  235 s per loop (mean  std. dev. of 7 runs, 10 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Calling-C-functions-from-Cython">Calling C functions from Cython<a class="anchor-link" href="#Calling-C-functions-from-Cython">&#182;</a></h3><p><strong>Example: compare <code>sin()</code> from Python and C library</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="n">cython</span>
<span class="k">import</span> <span class="nn">math</span>
<span class="k">cpdef</span> <span class="nf">py_sin</span><span class="p">():</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">x</span>
    <span class="k">cdef</span> <span class="kt">double</span> <span class="nf">y</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1e7</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="n">cython</span>
<span class="k">from</span> <span class="nn">libc.math</span> <span class="k">cimport</span> <span class="n">sin</span> <span class="k">as</span> <span class="n">csin</span> <span class="c"># import from C library</span>
<span class="k">cpdef</span> <span class="nf">c_sin</span><span class="p">():</span>
    <span class="k">cdef</span> <span class="kt">int</span> <span class="nf">x</span>
    <span class="k">cdef</span> <span class="kt">double</span> <span class="nf">y</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mf">1e7</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">csin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> [math.sin(i) for i in range(int(1e7))] # python
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1.78 s  8.55 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> py_sin()                                # cython call python library
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>1.06 s  11.7 ms per loop (mean  std. dev. of 7 runs, 1 loop each)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">timeit</span> c_sin()                                 # cython call C library
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>4.58 ms  29.2 s per loop (mean  std. dev. of 7 runs, 100 loops each)
</pre>
</div>
</div>

</div>
</div>

</div>
 




        </div>

      </div>
    </div>

  </div>
  <!-- end .site-content -->

  <footer class="footer wrapper">
  <div class="footer__inner clearfix">
        <article class="block block--col-1">

          <h2 class="as-h5"><a href="https://www.turing.ac.uk">The Alan Turing Institute</a></h2>

          <ul class="footer__list list-unstyled">
          <li class="footer__item"><a href="https://www.turing.ac.uk/transparency-notice">Transparency notice</a></li>
          <li class="footer__item"><a href="https://www.turing.ac.uk/research/research-engineering">Contact the Research Engineering Group</a></li>

          </ul>
      </article>
  </div>
</footer>


  <script src="/rsd-engineeringcourse/js/lib/require.min.js"></script>
  <script src="/rsd-engineeringcourse/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/rsd-engineeringcourse/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>

</body>

</html>

