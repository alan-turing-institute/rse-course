
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>8.3 Exceptions &#8212; Research Software Engineering with Python</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.4 Operator overloading" href="08_04_operator_overloading.html" />
    <link rel="prev" title="8.2 Iterators and Generators" href="08_02_iterators_and_generators.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/ATI_logo_black_W1024px.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Research Software Engineering with Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Research Software Engineering with Python
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Prerequisites
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course_prerequisites/index.html">
   Installation Instructions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/01_git.html">
     Git &amp; GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/02_python.html">
     Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/03_editor.html">
     Text Editor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/04_jupyter.html">
     Course Contents in Jupyter
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module01_introduction_to_python/index.html">
   1. Introduction to Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_00_introduction_to_python.html">
     1.0 Introduction to Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_01_variables.html">
     1.1 Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_02_using_functions.html">
     1.2 Using Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_03_types.html">
     1.3 Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_04_containers.html">
     1.4 Containers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_05_dictionaries.html">
     1.5 Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_06_data_structures.html">
     1.6 Data structures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_07_control_and_flow.html">
     1.7 Control and Flow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_08_iteration.html">
     1.8 Iteration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_09_classroom_exercises.html">
     1.9 Classroom Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module02_intermediate_python/index.html">
   2. Intermediate Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_00_comprehensions.html">
     2.0 Comprehensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_01_functions.html">
     2.1 Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_02_using_libraries.html">
     2.2 Using Libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_03_working_with_files.html">
     2.3 Working with files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_04_getting_data_from_the_internet.html">
     2.4 Getting data from the Internet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_05_data_analysis_example.html">
     2.5 Data analysis example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_06_defining_classes.html">
     2.7 Defining your own classes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_07_data_analysis_with_classes.html">
     2.7 Data analysis with classes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_08_classroom_exercises.html">
     2.7 Classroom Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module03_research_data_in_python/index.html">
   3. Research Data in Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_00_scientific_python.html">
     3.0 Scientific Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_01_fields_and_records.html">
     3.1 Field and Record Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_02_structured_data.html">
     3.2 Structured Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_03_plotting_with_matplotlib.html">
     3.3 Plotting with Matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_04_NumPy.html">
     3.4 NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_05_advanced_numpy.html">
     3.5 Advanced NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_06_boids.html">
     3.6 The Boids!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_07_classroom_exercises.html">
     3.7 Classroom Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module04_version_control_with_git/index.html">
   4. Version Control
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_00_introduction.html">
     4.0 Introduction to version control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_01_solo_work_with_git.html">
     4.1 Solo work with git
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_02_fixing_mistakes.html">
     4.2 Fixing mistakes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_03_publishing.html">
     4.3 Publishing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_04_collaboration.html">
     4.4 Collaboration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_05_fork_and_pull.html">
     4.5 Fork and Pull
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_06_git_theory.html">
     4.6 Git Theory
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_07_branches.html">
     4.7 Branches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_08_advanced_git_concepts.html">
     4.8 Advanced git concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_09_github_pages.html">
     4.9 Publishing from GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_10_rebasing.html">
     4.10 Rebasing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_11_debugging_with_git_bisect.html">
     4.11 Debugging With git bisect
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_12_multiple_remotes.html">
     4.12 Working with multiple remotes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module05_testing_your_code/index.html">
   5. Testing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_00_introduction.html">
     5.0 Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_01_how_to_test.html">
     5.1 How to test
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_02_testing_frameworks.html">
     5.2 Testing frameworks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_03_energy_example.html">
     5.3 Classroom exercise: energy calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_04_mocking.html">
     5.4 Mocking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_05_using_a_debugger.html">
     5.5 Using a debugger
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_06_continuous_integration.html">
     5.6 Continuous Integration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_07_diffusion_example.html">
     Recap example: Monte-Carlo
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module06_software_projects/index.html">
   6. Software Projects
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_00_libraries.html">
     6.0 Libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_01_installing_packages.html">
     6.1 Installing libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_02_managing_dependencies.html">
     6.2 Managing Dependencies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_03_non_notebook_python.html">
     6.3 Python outside the notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_04_packaging.html">
     6.4 Packaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_05_documentation.html">
     6.5 Documentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_06_software_development.html">
     6.6 Software Project Management
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_07_software_licensing.html">
     6.7 Software Licensing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_08_software_issues.html">
     6.8 Managing software issues
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_09_exercise.html">
     6.9 Exercise: Packaging Troll Treasure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module07_construction_and_design/index.html">
   7. Construction and Design
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_00_introduction.html">
     7.0 Construction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_01_comments.html">
     7.1 Comments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_02_coding_conventions.html">
     7.2 Coding conventions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_03_linters.html">
     7.3 Linting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_04_refactoring.html">
     7.4 Refactoring
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_05_object_oriented_design.html">
     7.5 Object-Oriented Design
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_06_classes.html">
     7.6 Class design
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_07_design_patterns.html">
     7.7 Design Patterns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module07_construction_and_design/07_08_refactoring_boids.html">
     7.8 Exercise: Refactoring The Bad Boids
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   8. Advanced Programming Techniques
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="08_00_introduction.html">
     8.0 Advanced Python Programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_01_functional_programming.html">
     8.1 Functional programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_02_iterators_and_generators.html">
     8.2 Iterators and Generators
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     8.3 Exceptions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_04_operator_overloading.html">
     8.4 Operator overloading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_05_metaprogramming.html">
     8.5 Metaprogramming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_06_advanced_operator_overloading.html">
     8.6 Advanced operator overloading
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module09_programming_for_speed/index.html">
   9. Programming for Speed
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_00_performance_programming.html">
     9.0 Performance programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_01_optimising_mandelbrot.html">
     9.1 Optimising Mandelbrot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_02_optimising_with_numpy.html">
     9.2 Optimising with NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_03_optimising_with_cython.html">
     9.3 Optimising with Cython
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_04_optimising_with_numba.html">
     9.5 Optimising with Numba
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_05_performance_scaling.html">
     9.5 Performance scaling for containers and algorithms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module10_scientific_file_formats/index.html">
   10. Scientific file formats
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_00_serialisation_and_normalisation.html">
     10.0 Serialising and normalising data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_01_deserialisation.html">
     10.1 Deserialisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_02_binary_formats.html">
     10.2 Binary formats
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_03_markup_languages.html">
     10.3 Markup Languages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_04_beyond_pandas.html">
     10.04 Larger datasets - beyond pandas and csv
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_05_processing_in_parallel.html">
     10.5 Processing in parallel
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_06_geospatial_data.html">
     10.6 Geospatial data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_x0_optional_domain_specific_languages.html">
     10.x.0 (OPTIONAL):  Domain specific languages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_x1_optional_controlled_vocabularies.html">
     10.x.1 (OPTIONAL): Controlled Vocabularies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_x2_optional_semantic_models.html">
     10.x.2 (OPTIONAL):  Semantic file formats
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Solutions
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../solutions/index.html">
   Exercise Solutions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_01.html">
     Module 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_02.html">
     Module 02
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_03.html">
     Module 03
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_04.html">
     Module 04
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_05.html">
     Module 05
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_06.html">
     Module 06: Troll Treasure
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_07.html">
     Module 07: Bad Boids
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_08.html">
     Module 08
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_09.html">
     Module 09
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../solutions/module_10.html">
     Module 10
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            <p>Download notes as <a href="/rse-course/pdf/book.pdf">PDF</a>.</p>
<p>Powered by <a href="https://jupyterbook.org">Jupyter Book</a>.</p>

            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/alan-turing-institute/rse-course/main?urlpath=tree/module08_advanced_programming_techniques/08_03_exceptions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/alan-turing-institute/rse-course"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/alan-turing-institute/rse-course/issues/new?title=Issue%20on%20page%20%2Fmodule08_advanced_programming_techniques/08_03_exceptions.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/alan-turing-institute/rse-course/edit/main/module08_advanced_programming_techniques/08_03_exceptions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/module08_advanced_programming_techniques/08_03_exceptions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-your-own-exception">
   Create your own Exception
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#managing-multiple-exceptions">
   Managing multiple exceptions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#catching-exceptions-elsewhere">
   Catching Exceptions Elsewhere
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#design-with-exceptions">
   Design with Exceptions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#re-raising-exceptions">
   Re-Raising Exceptions
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>8.3 Exceptions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#create-your-own-exception">
   Create your own Exception
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#managing-multiple-exceptions">
   Managing multiple exceptions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#catching-exceptions-elsewhere">
   Catching Exceptions Elsewhere
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#design-with-exceptions">
   Design with Exceptions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#re-raising-exceptions">
   Re-Raising Exceptions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="exceptions">
<h1>8.3 Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">#</a></h1>
<p><em>Estimated time for this notebook: 15 minutes</em></p>
<p>When we learned about testing, we saw that Python complains when things go wrong by raising an “Exception” naming a type of error:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ZeroDivisionError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>

<span class="ne">ZeroDivisionError</span>: division by zero
</pre></div>
</div>
</div>
</div>
<p>Exceptions are objects, forming a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#exception-hierarchy">class hierarchy</a>. We just raised an instance
of the <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> class, making the program crash. If we want more
information about where this class fits in the hierarchy, we can use <a class="reference external" href="https://docs.python.org/3/library/inspect.html">Python’s
<code class="docutils literal notranslate"><span class="pre">inspect</span></code> module</a> to get a chain of classes, from <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> up to <code class="docutils literal notranslate"><span class="pre">object</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">inspect</span>

<span class="n">inspect</span><span class="o">.</span><span class="n">getmro</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(ZeroDivisionError, ArithmeticError, Exception, BaseException, object)
</pre></div>
</div>
</div>
</div>
<p>So we can see that a zero division error is a particular kind of Arithmetic Error.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="ne">TypeError</span>: &#39;int&#39; object is not iterable
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inspect</span><span class="o">.</span><span class="n">getmro</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(TypeError, Exception, BaseException, object)
</pre></div>
</div>
</div>
</div>
<section id="create-your-own-exception">
<h2>Create your own Exception<a class="headerlink" href="#create-your-own-exception" title="Permalink to this headline">#</a></h2>
<p>When we were looking at testing, we saw that it is important for code to crash with a meaningful exception type when something is wrong.
We raise an Exception with <code class="docutils literal notranslate"><span class="pre">raise</span></code>. Often, we can look for an appropriate exception from the standard set to raise.</p>
<p>However, we may want to define our own exceptions. Doing this is as simple as inheriting from Exception (or one of its subclasses):</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyCustomErrorType</span><span class="p">(</span><span class="ne">ArithmeticError</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">raise</span> <span class="n">MyCustomErrorType</span><span class="p">(</span><span class="s2">&quot;Problem&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">MyCustomErrorType</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">5</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">class</span> <span class="nc">MyCustomErrorType</span><span class="p">(</span><span class="ne">ArithmeticError</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="k">pass</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="k">raise</span> <span class="n">MyCustomErrorType</span><span class="p">(</span><span class="s2">&quot;Problem&quot;</span><span class="p">)</span>

<span class="ne">MyCustomErrorType</span>: Problem
</pre></div>
</div>
</div>
</div>
<p>You can add custom data to your exception:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyCustomErrorType</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error, category </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span>


<span class="k">raise</span> <span class="n">MyCustomErrorType</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">MyCustomErrorType</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">line</span> <span class="mi">9</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>         <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error, category </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="ne">----&gt; </span><span class="mi">9</span> <span class="k">raise</span> <span class="n">MyCustomErrorType</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>

<span class="ne">MyCustomErrorType</span>: Error, category 404
</pre></div>
</div>
</div>
</div>
<p>The real power of exceptions comes, however, not in letting them crash the program, but in letting your program handle them. We say that an exception has been “thrown” and then “caught”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yaml</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;datasource.yaml&quot;</span><span class="p">))</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;userid&quot;</span><span class="p">]</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>

<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No password file found, using anonymous user.&quot;</span><span class="p">)</span>
    <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>


<span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>No password file found, using anonymous user.
anonymous
</pre></div>
</div>
</div>
</div>
<p>Note that we specify only the error we expect to happen and want to handle. Sometimes you see code that catches everything:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_lod</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;datasource.yaml&quot;</span><span class="p">))</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;userid&quot;</span><span class="p">]</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
    <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>

<span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>anonymous
</pre></div>
</div>
</div>
</div>
<p>This can be dangerous and can make it hard to find errors! There was a mistyped function name there (’<code class="docutils literal notranslate"><span class="pre">safe_lod</span></code>’), but we did not notice the error, as the generic except caught it.
Therefore, we should be specific and catch only the type of error we want.</p>
</section>
<section id="managing-multiple-exceptions">
<h2>Managing multiple exceptions<a class="headerlink" href="#managing-multiple-exceptions" title="Permalink to this headline">#</a></h2>
<p>Let’s create two credential files to read</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;datasource2.yaml&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;userid: eidle</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;password: secret</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;datasource3.yaml&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;user: eidle</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;password: secret</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And create a function that reads credentials files and returns the username and password to use.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_credentials</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">datasource</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;userid&quot;</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
        <span class="n">datasource</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Password file missing&quot;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
        <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected keys not found in file&quot;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
        <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">user</span><span class="p">,</span> <span class="n">password</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">read_credentials</span><span class="p">(</span><span class="s2">&quot;datasource2.yaml&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;eidle&#39;, &#39;secret&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">read_credentials</span><span class="p">(</span><span class="s2">&quot;datasource.yaml&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Password file missing
(&#39;anonymous&#39;, None)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">read_credentials</span><span class="p">(</span><span class="s2">&quot;datasource3.yaml&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Expected keys not found in file
(&#39;anonymous&#39;, None)
</pre></div>
</div>
</div>
</div>
<p>This last code has a flaw: the file was successfully opened, the missing key was noticed, but not explicitly closed. It’s normally OK, as Python will close the file as soon as it notices there are no longer any references to datasource in memory, after the function exits. But this is not good practice, you should keep a file handle for as short a time as possible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_credentials</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">datasource</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File loaded, trying to extract credentials&quot;</span><span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;userid&quot;</span><span class="p">]</span>
            <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected keys not found in file&quot;</span><span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
            <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># Runs irrespective of whether keys found</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Closing file&quot;</span><span class="p">)</span>
            <span class="n">datasource</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Password file missing&quot;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
        <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">user</span><span class="p">,</span> <span class="n">password</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">finally</span></code> clause is executed whether or not an exception occurs.</p>
<p>The last optional clause of a <code class="docutils literal notranslate"><span class="pre">try</span></code> statement, an <code class="docutils literal notranslate"><span class="pre">else</span></code> clause is called only if an exception is NOT raised. It can be a better place than the <code class="docutils literal notranslate"><span class="pre">try</span></code> clause to put code other than that which you expect to raise the error, and which you do not want to be executed if the error is raised. It is executed in the same circumstances as code put in the end of the <code class="docutils literal notranslate"><span class="pre">try</span></code> block, the only difference is that errors raised during the <code class="docutils literal notranslate"><span class="pre">else</span></code> clause are not caught.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_credentials</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">datasource</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Password file missing&quot;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
        <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Runs only if opening the file was successful</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File loaded, trying to extract credentials&quot;</span><span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;userid&quot;</span><span class="p">]</span>
            <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected keys not found in file&quot;</span><span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
            <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># Runs irrespective of whether keys found</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Closing file&quot;</span><span class="p">)</span>
            <span class="n">datasource</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">user</span><span class="p">,</span> <span class="n">password</span>
</pre></div>
</div>
</div>
</div>
<p>Don’t worry if <code class="docutils literal notranslate"><span class="pre">else</span></code> seems useless to you; most languages’ implementations of try/except don’t support such a clause. An alternative way of avoiding leaving the file open in the original implementation (and without using <code class="docutils literal notranslate"><span class="pre">else</span></code> or <code class="docutils literal notranslate"><span class="pre">finally</span></code>) is to use a context manager:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">read_credentials</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="k">as</span> <span class="n">datasource</span><span class="p">:</span>  <span class="c1"># closes the file when done</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;userid&quot;</span><span class="p">]</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Password file missing&quot;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
        <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expected keys not found in file&quot;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span>
        <span class="n">password</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">user</span><span class="p">,</span> <span class="n">password</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="catching-exceptions-elsewhere">
<h2>Catching Exceptions Elsewhere<a class="headerlink" href="#catching-exceptions-elsewhere" title="Permalink to this headline">#</a></h2>
<p>Exceptions do not have to be caught close to the part of the program calling
them. They can be caught anywhere “above” the calling point in
the call stack: control can jump arbitrarily far in the program: up to the <code class="docutils literal notranslate"><span class="pre">except</span></code> clause of the “highest” containing try statement.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f4</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ArithmeticError</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F3Before&quot;</span><span class="p">)</span>
        <span class="n">f4</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F3After&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ArithmeticError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F3Except (💣)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F2Before&quot;</span><span class="p">)</span>
        <span class="n">f3</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F2After&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F2Except (💣)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1Before&quot;</span><span class="p">)</span>
        <span class="n">f2</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1After&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1Except (💣)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F1Before
F2Before
F3Before
F3After
F2After
F1After
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F1Before
F2Before
F3Before
F3Except (💣)
F2After
F1After
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F1Before
F2Before
F3Before
F2Except (💣)
F1After
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F1Before
F2Before
F3Before
F1Except (💣)
</pre></div>
</div>
</div>
</div>
</section>
<section id="design-with-exceptions">
<h2>Design with Exceptions<a class="headerlink" href="#design-with-exceptions" title="Permalink to this headline">#</a></h2>
<p>Now we know how exceptions work, we need to think about the design implications… How best to use them.</p>
<p>Traditional software design theory will tell you that they should only be used
to describe and recover from <strong>exceptional</strong> conditions: things going wrong.
Normal program flow shouldn’t use them.</p>
<p>Python’s designers take a different view: use of exceptions in normal flow is
considered OK. For example, all iterators raise a <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> exception to
indicate the iteration is complete.</p>
<p>A commonly recommended Python design pattern is to use exceptions to determine
whether an object implements a protocol (concept/interface), rather than testing
on type.</p>
<p>For example, we might want a function which can be supplied <em>either</em> a data
series <em>or</em> a path to a location on disk where data can be found. We can
examine the type of the supplied content:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yaml</span>


<span class="k">def</span> <span class="nf">analysis</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">analysis</span><span class="p">({</span><span class="s2">&quot;modelname&quot;</span><span class="p">:</span> <span class="s2">&quot;Super&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Super
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example.yaml&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;modelname: brilliant</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;example.yaml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>brilliant
</pre></div>
</div>
</div>
</div>
<p>However, we can also use the try-it-and-handle-exceptions approach to this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">analysis</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>


<span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;example.yaml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>brilliant
</pre></div>
</div>
</div>
</div>
<p>This approach is more extensible, and <strong>behaves properly if we give it some
other data-source which responds like a dictionary or string.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">analysis</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="c1"># Source was not a dictionary-like object</span>
        <span class="c1"># Maybe it is a file path</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="c1"># Maybe it was already raw YAML content</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="s2">&quot;modelname&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>


<span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;modelname: Amazing&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Amazing
</pre></div>
</div>
</div>
</div>
</section>
<section id="re-raising-exceptions">
<h2>Re-Raising Exceptions<a class="headerlink" href="#re-raising-exceptions" title="Permalink to this headline">#</a></h2>
<p>Sometimes we want to catch an error, partially handle it, perhaps add some
extra data to the exception, and then re-raise to be caught again further up
the call stack.</p>
<p>The keyword “<code class="docutils literal notranslate"><span class="pre">raise</span></code>” with no argument in an <code class="docutils literal notranslate"><span class="pre">except:</span></code> clause will cause the
caught error to be re-thrown. Doing this is the only circumstance where it is
safe to do <code class="docutils literal notranslate"><span class="pre">except:</span></code> without catching a specific type of error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Something</span>
    <span class="k">pass</span>
<span class="k">except</span><span class="p">:</span>
    <span class="c1"># Do this code here if anything goes wrong</span>
    <span class="k">raise</span>
</pre></div>
</div>
</div>
</div>
<p>If you want to be more explicit about where the error came from, you can use the <code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">from</span></code> syntax, which will create a chain of exceptions:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">lower_function</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Error in lower function!&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">higher_function</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">lower_function</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Error in higher function!&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>


<span class="n">higher_function</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="nn">Cell In [32], line 7,</span> in <span class="ni">higher_function</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">7</span>     <span class="n">lower_function</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

<span class="nn">Cell In [32], line 2,</span> in <span class="ni">lower_function</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">lower_function</span><span class="p">():</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Error in lower function!&quot;</span><span class="p">)</span>

<span class="ne">ValueError</span>: Error in lower function!

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">RuntimeError</span><span class="g g-Whitespace">                              </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="n">line</span> <span class="mi">12</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>         <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Error in higher function!&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
<span class="ne">---&gt; </span><span class="mi">12</span> <span class="n">higher_function</span><span class="p">()</span>

<span class="nn">Cell In [32], line 9,</span> in <span class="ni">higher_function</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">lower_function</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">9</span>     <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Error in higher function!&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

<span class="ne">RuntimeError</span>: Error in higher function!
</pre></div>
</div>
</div>
</div>
<p>It can be useful to catch and re-throw an error as you go up the chain, doing any clean-up needed for each layer of a program.</p>
<p>The error will finally be caught and not re-thrown only at a higher program
layer that knows how to recover. This is known as the “throw low catch high”
principle.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./module08_advanced_programming_techniques"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="08_02_iterators_and_generators.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">8.2 Iterators and Generators</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="08_04_operator_overloading.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">8.4 Operator overloading</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By various <a href="https://github.com/alan-turing-institute/rse-course/graphs/contributors">contributors</a>.
Developed at <a href="https://turing.ac.uk">The Alan Turing Institute</a> based on the <a href="https://github.com/UCL/rsd-engineeringcourse">UCL RSD course</a>.
<br/>
  
    <div class="extra_footer">
      <p>Creative Commons Attribution 2.0 Generic (<a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>).</p>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>