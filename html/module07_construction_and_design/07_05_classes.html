
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Class design &#8212; Research Software Engineering with Python</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Patterns" href="07_06_design_patterns.html" />
    <link rel="prev" title="Design" href="07_04_object_oriented_design.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/ATI_logo_black_W1024px.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Research Software Engineering with Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Research Software Engineering with Python
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Prerequisites
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../course_prerequisites/index.html">
   Installation Instructions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/00_linux.html">
     Linux
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/01_mac.html">
     MacOS
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../course_prerequisites/02_windows.html">
     Windows
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module01_introduction_to_python/index.html">
   Introduction to Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_00_introduction_to_python.html">
     Introduction to Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_01_data_analysis_example.html">
     An example Python data analysis notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_02_variables.html">
     Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_03_using_functions.html">
     Using Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_04_types.html">
     Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_05_containers.html">
     Containers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_06_dictionaries.html">
     Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_07_data_structures.html">
     Data structures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_07answer_maze_model.html">
     Solution: my Maze Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_08_control_and_flow.html">
     Control and Flow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_09_iteration.html">
     Iteration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module01_introduction_to_python/01_09answer_maze_counting.html">
     Solution: counting people in the maze
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module02_intermediate_python/index.html">
   Intermediate Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_00_comprehensions.html">
     Comprehensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_00answer_maze_comprehension.html">
     Solution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_01_functions.html">
     Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_02_using_libraries.html">
     Using Libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_03_defining_classes.html">
     Defining your own classes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_04_working_with_files.html">
     Working with Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module02_intermediate_python/02_05_getting_data_from_the_internet.html">
     Getting data from the Internet
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module03_research_data_in_python/index.html">
   Research Data in Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_00_fields_and_records.html">
     Field and Record Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_01_structured_data.html">
     Structured Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_01answer_maze_saving.html">
     Solution: Saving and loading data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_02_earthquake_exercise.html">
     Exercise/Example: the biggest Earthquake in the UK this Century
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_02answer_earthquake_exercise.html">
     Solution: the biggest Earthquake in the UK this Century
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_03_plotting_with_matplotlib.html">
     Plotting with Matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_04_NumPy.html">
     NumPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_05_boids.html">
     The Boids!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module03_research_data_in_python/03_06_understanding_greengraph.html">
     Recap: Understanding the “Greengraph” Example
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module04_version_control_with_git/index.html">
   Version Control
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_00_introduction.html">
     Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_01_solo_work_with_git.html">
     Solo work with Git
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_02_fixing_mistakes.html">
     Fixing mistakes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_03_publishing.html">
     Publishing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_04_collaboration.html">
     Collaboration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_05_fork_and_pull.html">
     Fork and Pull
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_06_git_theory.html">
     Git Theory
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_07_branches.html">
     Branches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_08_git_stash.html">
     Git Stash
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_09_multiple_remotes.html">
     Working with multiple remotes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_10_rebasing.html">
     Rebasing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module04_version_control_with_git/04_11_debugging_with_git_bisect.html">
     Debugging With Git Bisect
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module05_testing_your_code/index.html">
   Testing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_00_introduction.html">
     Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_01_how_to_test.html">
     How to Test
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_02_testing_frameworks.html">
     Testing frameworks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_03_energy_example.html">
     Classroom exercise: energy calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_04_mocking.html">
     Mocking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_05_using_a_debugger.html">
     Using a debugger
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_06_continuous_integration.html">
     Continuous Integration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module05_testing_your_code/05_07_diffusion_example.html">
     Recap example: Monte-Carlo
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module06_software_projects/index.html">
   Software Projects
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_00_pypi_packages.html">
     Packaging your code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_01_libraries.html">
     Libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_02_argparse.html">
     Argparse
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_03_non_notebook_python.html">
     Python not in the Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_04_packaging.html">
     Packaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_05_documentation.html">
     Documentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_06_software_development.html">
     Software Project Management
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_07_software_licensing.html">
     Software Licensing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module06_software_projects/06_08_software_issues.html">
     Managing software issues
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Construction and Design
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="07_00_introduction.html">
     Construction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_01_coding_conventions.html">
     Coding Conventions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_02_comments.html">
     Comments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_03_refactoring.html">
     Refactoring
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_04_object_oriented_design.html">
     Design
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Class design
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_06_design_patterns.html">
     Patterns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_07_refactoring_boids.html">
     Exercise: Refactoring The Bad Boids
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module08_advanced_programming_techniques/index.html">
   Advanced Programming Techniques
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_00_introduction.html">
     Advanced Python Programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_01_functional_programming.html">
     Functional programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_02_iterators_and_generators.html">
     Iterators and Generators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_03_exceptions.html">
     Exceptions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_04_operator_overloading.html">
     Operator overloading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_05_operator_overloading_example.html">
     Operator overloading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module08_advanced_programming_techniques/08_06_metaprogramming.html">
     Metaprogramming
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module09_programming_for_speed/index.html">
   Programming for Speed
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_00_performance_programming.html">
     Performance programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_01_optimising_mandelbrot.html">
     Optimising Mandelbrot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_02_numpy_for_performance.html">
     NumPy for Performance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_03_cython.html">
     Cython
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module09_programming_for_speed/09_04_scaling_for_containers.html">
     Scaling for containers and algorithms
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../module10_scientific_file_formats/index.html">
   Scientific file formats
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_00_serialisation_and_normalisation.html">
     What can go wrong?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_01_deserialisation.html">
     Deserialisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_02_domain_specific_languages.html">
     Domain specific languages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_03_markup_languages.html">
     Markup Languages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_04_controlled_vocabularies.html">
     Saying the same thing multiple ways
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../module10_scientific_file_formats/10_05_semantic_models.html">
     Semantic file formats
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Self Assessment
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../self_assessment/index.html">
   Assessment
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../self_assessment/00_packaging_treasure.html">
     An Adventure In Packaging: An exercise in research software engineering.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../self_assessment/00assessment.html">
     Packaging Greengraph
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../self_assessment/01_refactoring_trees.html">
     Refactoring Trees: An exercise in Research Software Engineering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../self_assessment/01assessment.html">
     Refactoring the Bad Boids
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <p>Download notes as <a href="/rsd-engineeringcourse/pdf/book.pdf">PDF</a>.</p><p>Powered by <a href="https://jupyterbook.org">Jupyter Book</a>.</p>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/module07_construction_and_design/07_05_classes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/alan-turing-institute/rsd-engineeringcourse"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/alan-turing-institute/rsd-engineeringcourse/issues/new?title=Issue%20on%20page%20%2Fmodule07_construction_and_design/07_05_classes.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/alan-turing-institute/rsd-engineeringcourse/edit/master/module07_construction_and_design/07_05_classes.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/alan-turing-institute/rsd-engineeringcourse/master?urlpath=tree/module07_construction_and_design/07_05_classes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#uml">
   UML
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#yuml">
   YUML
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#information-hiding">
   Information Hiding
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#property-accessors">
   Property accessors
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uml-for-private-public">
     UML for private/public
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#class-members">
   Class Members
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inheritance-and-polymorphism">
   Inheritance and Polymorphism
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#object-based-vs-object-oriented">
     Object-based vs Object-Oriented
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance">
     Inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ontology-and-inheritance">
     Ontology and inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-in-python">
     Inheritance in python
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-terminology">
     Inheritance terminology
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-and-constructors">
     Inheritance and constructors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-uml-diagrams">
     Inheritance UML diagrams
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation-vs-inheritance">
     Aggregation vs Inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation-in-uml">
     Aggregation in UML
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#refactoring-to-inheritance">
     Refactoring to inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#polymorphism">
     Polymorphism
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#polymorphism-and-inheritance">
   Polymorphism and Inheritance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#undefined-functions-and-polymorphism">
     Undefined Functions and Polymorphism
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#refactoring-to-polymorphism">
     Refactoring to Polymorphism
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interfaces-and-concepts">
     Interfaces and concepts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interfaces-in-uml">
     Interfaces in UML
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#further-uml">
     Further UML
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Class design</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#uml">
   UML
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#yuml">
   YUML
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#information-hiding">
   Information Hiding
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#property-accessors">
   Property accessors
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uml-for-private-public">
     UML for private/public
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#class-members">
   Class Members
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inheritance-and-polymorphism">
   Inheritance and Polymorphism
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#object-based-vs-object-oriented">
     Object-based vs Object-Oriented
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance">
     Inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ontology-and-inheritance">
     Ontology and inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-in-python">
     Inheritance in python
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-terminology">
     Inheritance terminology
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-and-constructors">
     Inheritance and constructors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inheritance-uml-diagrams">
     Inheritance UML diagrams
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation-vs-inheritance">
     Aggregation vs Inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregation-in-uml">
     Aggregation in UML
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#refactoring-to-inheritance">
     Refactoring to inheritance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#polymorphism">
     Polymorphism
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#polymorphism-and-inheritance">
   Polymorphism and Inheritance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#undefined-functions-and-polymorphism">
     Undefined Functions and Polymorphism
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#refactoring-to-polymorphism">
     Refactoring to Polymorphism
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interfaces-and-concepts">
     Interfaces and concepts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interfaces-in-uml">
     Interfaces in UML
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#further-uml">
     Further UML
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="class-design">
<h1>Class design<a class="headerlink" href="#class-design" title="Permalink to this headline">¶</a></h1>
<p>The concepts we have introduced are common between different object oriented languages.
Thus, when we design our program using these concepts, we can think at an architectural level,
independent of language syntax.</p>
<p>In Python:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Particle</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">=</span> <span class="n">velocity</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta_t</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">*</span> <span class="n">delta_t</span>
</pre></div>
</div>
</div>
</div>
<p>In C++:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Particle</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">position</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">velocity</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">Particle</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">velocity</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">delta_t</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>In Fortran:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">type </span><span class="n">particle</span><span class="w"></span>
<span class="w">    </span><span class="kt">real</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">position</span><span class="w"></span>
<span class="w">    </span><span class="kt">real</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">velocity</span><span class="w"></span>
<span class="w">  </span><span class="k">contains</span>
<span class="k">    procedure</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">init</span><span class="w"></span>
<span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">move</span><span class="w"></span>
<span class="k">end type </span><span class="n">particle</span><span class="w"></span>
</pre></div>
</div>
<div class="section" id="uml">
<h2>UML<a class="headerlink" href="#uml" title="Permalink to this headline">¶</a></h2>
<p>UML is a conventional diagrammatic notation used to describe “class structures” and other higher level
aspects of software design.</p>
<p>Computer scientists get worked up about formal correctness of UML diagrams and learning the conventions precisely.
Working programmers can still benefit from using UML to describe their designs.</p>
</div>
<div class="section" id="yuml">
<h2>YUML<a class="headerlink" href="#yuml" title="Permalink to this headline">¶</a></h2>
<p>We can see a YUML model for a Particle class with <code class="docutils literal notranslate"><span class="pre">position</span></code> and <code class="docutils literal notranslate"><span class="pre">velocity</span></code> data and a <code class="docutils literal notranslate"><span class="pre">move()</span></code> method using
the <a class="reference external" href="http://yuml.me/">YUML</a> online UML drawing tool (<a class="reference external" href="http://yuml.me/diagram/boring/class/%5BParticle%7Cposition;velocity%7Cmove%28%29%5D">example</a>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">yuml</span><span class="o">.</span><span class="n">me</span><span class="o">/</span><span class="n">diagram</span><span class="o">/</span><span class="n">boring</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="p">[</span><span class="n">Particle</span><span class="o">|</span><span class="n">position</span><span class="p">;</span><span class="n">velocity</span><span class="o">|</span><span class="n">move</span><span class="o">%</span><span class="mi">28</span><span class="o">%</span><span class="mi">29</span><span class="p">]</span>
</pre></div>
</div>
<p>Here’s how we can use Python code to get an image back from YUML:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">SVG</span>


<span class="k">def</span> <span class="nf">yuml</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">SVG</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;http://yuml.me/diagram/boring/class/</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yuml</span><span class="p">(</span><span class="s2">&quot;[Particle|position;velocity|move()]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/07_05_classes_11_0.svg" src="../_images/07_05_classes_11_0.svg" /></div>
</div>
<p>The representation of the <code class="docutils literal notranslate"><span class="pre">Particle</span></code> class defined above in UML is done with a box with three sections. The name of the class goes on the top, then the name of the member variables in the middle, and the name of the methods on the bottom. We will see later why this is useful.</p>
</div>
<div class="section" id="information-hiding">
<h2>Information Hiding<a class="headerlink" href="#information-hiding" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, our design for a program would be broken if users start messing around with variables we don’t want them to change.</p>
<p>Robust class design requires consideration of which subroutines are intended for users to use, and which are internal.
Languages provide features to implement this: access control.</p>
<p>In python, we use leading underscores to control whether member variables and methods can be accessed from outside the class:</p>
<ul class="simple">
<li><p>single leading underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) is used to document it’s private but people could use it if wanted (thought they shouldn’t);</p></li>
<li><p>double leading underscore (<code class="docutils literal notranslate"><span class="pre">__</span></code>) raises errors if called.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__private_data</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_private_data</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">public_data</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__private_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_private_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">public_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">called_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__private_method</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_private_method</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__private_data</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_private_data</span> <span class="o">=</span> <span class="mi">1</span>


<span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">called_inside</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">_private_method</span><span class="p">()</span>  <span class="c1"># Works, but forbidden by convention</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">public_method</span><span class="p">()</span>  <span class="c1"># OK</span>

<span class="nb">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">_private_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">public_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">__private_method</span><span class="p">()</span>  <span class="c1"># Generates error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_16696</span><span class="o">/</span><span class="mf">2203733493.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">__private_method</span><span class="p">()</span>  <span class="c1"># Generates error</span>

<span class="ne">AttributeError</span>: &#39;MyClass&#39; object has no attribute &#39;__private_method&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">__private_data</span><span class="p">)</span>  <span class="c1"># Generates error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_16696</span><span class="o">/</span><span class="mf">2773553887.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="n">MyClass</span><span class="p">()</span><span class="o">.</span><span class="n">__private_data</span><span class="p">)</span>  <span class="c1"># Generates error</span>

<span class="ne">AttributeError</span>: &#39;MyClass&#39; object has no attribute &#39;__private_data&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="property-accessors">
<h2>Property accessors<a class="headerlink" href="#property-accessors" title="Permalink to this headline">¶</a></h2>
<p>Python provides a mechanism to make functions appear to be variables. This can be used if you want to
change the way a class is implemented without changing the interface:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Graham Chapman&quot;</span>


<span class="n">Person</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Graham Chapman&#39;
</pre></div>
</div>
</div>
</div>
<p>becomes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_first</span> <span class="o">=</span> <span class="s2">&quot;Graham&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_second</span> <span class="o">=</span> <span class="s2">&quot;Chapman&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_first</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_second</span><span class="si">}</span><span class="s2">&quot;</span>


<span class="n">Person</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Graham Chapman&#39;
</pre></div>
</div>
</div>
</div>
<p>Making the same external code work as before.</p>
<p>Note that the code behaves the same way to the outside user.
The implementation detail is hidden by private variables.
In languages without this feature, such as C++, it is best to always
make data private, and always
access data through functions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;Graham Chapman&quot;</span>

    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># an access function</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>


<span class="n">Person</span><span class="p">()</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Graham Chapman&#39;
</pre></div>
</div>
</div>
</div>
<p>But in Python this is unnecessary because the <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> capability.</p>
<p>Another way could be to create a member variable <code class="docutils literal notranslate"><span class="pre">name</span></code> which holds the full name. However, this could lead to inconsistent data. If we create a <code class="docutils literal notranslate"><span class="pre">get_married</span></code> function, then the name of the person won’t change!</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_first</span> <span class="o">=</span> <span class="n">first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_second</span> <span class="o">=</span> <span class="n">second</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_first</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_second</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">get_married</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_second</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_second</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">to</span><span class="o">.</span><span class="n">_second</span><span class="si">}</span><span class="s2">&quot;</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graham</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s2">&quot;Graham&quot;</span><span class="p">,</span> <span class="s2">&quot;Chapman&quot;</span><span class="p">)</span>
<span class="n">graham</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Graham Chapman&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">david</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s2">&quot;David&quot;</span><span class="p">,</span> <span class="s2">&quot;Sherlock&quot;</span><span class="p">)</span>
<span class="n">graham</span><span class="o">.</span><span class="n">get_married</span><span class="p">(</span><span class="n">david</span><span class="p">)</span>

<span class="n">graham</span><span class="o">.</span><span class="n">_second</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Chapman-Sherlock&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">graham</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># Not Graham Chapman-Sherlock?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Graham Chapman&#39;
</pre></div>
</div>
</div>
</div>
<p>This type of situation could makes that the object data structure gets inconsistent with itself. Making variables being out of sync with other variables. Each piece of information should only be stored in once place! In this case, <code class="docutils literal notranslate"><span class="pre">name</span></code> should be calculated each time it’s required as previously shown.
In database design, this is called <a class="reference external" href="https://en.wikipedia.org/wiki/Database_normalization">Normalisation</a>.</p>
<div class="section" id="uml-for-private-public">
<h3>UML for private/public<a class="headerlink" href="#uml-for-private-public" title="Permalink to this headline">¶</a></h3>
<p>We prepend a <code class="docutils literal notranslate"><span class="pre">+</span></code>/<code class="docutils literal notranslate"><span class="pre">-</span></code> on public/private member variables and methods:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yuml</span><span class="p">(</span><span class="s2">&quot;[Particle|+public;-private|+publicmethod();-privatemethod]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/07_05_classes_38_0.svg" src="../_images/07_05_classes_38_0.svg" /></div>
</div>
</div>
</div>
<div class="section" id="class-members">
<h2>Class Members<a class="headerlink" href="#class-members" title="Permalink to this headline">¶</a></h2>
<p><em>Class</em>, or <em>static</em> members, belong to the class as a whole, and are shared between instances.</p>
<p>This is an object that keeps a count on how many have been created of it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counted</span><span class="p">:</span>
    <span class="n">number_created</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Counted</span><span class="o">.</span><span class="n">number_created</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">howMany</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">number_created</span>


<span class="n">Counted</span><span class="o">.</span><span class="n">howMany</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">Counted</span><span class="p">()</span>
<span class="n">Counted</span><span class="o">.</span><span class="n">howMany</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="n">Counted</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="n">Counted</span><span class="o">.</span><span class="n">howMany</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">howMany</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<p>The data is shared among all the objects instantiated from that class. Note that in <code class="docutils literal notranslate"><span class="pre">__init__</span></code> we are not using <code class="docutils literal notranslate"><span class="pre">self.number_created</span></code> but the name of the class. The <code class="docutils literal notranslate"><span class="pre">howMany</span></code> function is not a method of a particular object. It’s called on the class, not on the object. This is possible by using the <code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code> decorator.</p>
</div>
<div class="section" id="inheritance-and-polymorphism">
<h2>Inheritance and Polymorphism<a class="headerlink" href="#inheritance-and-polymorphism" title="Permalink to this headline">¶</a></h2>
<div class="section" id="object-based-vs-object-oriented">
<h3>Object-based vs Object-Oriented<a class="headerlink" href="#object-based-vs-object-oriented" title="Permalink to this headline">¶</a></h3>
<p>So far we have seen only object-based programming, not object-oriented programming.</p>
<p>Using Objects doesn’t mean your code is object-oriented.</p>
<p>To understand object-oriented programming, we need to introduce <strong>polymorphism</strong> and <strong>inheritance</strong>.</p>
</div>
<div class="section" id="inheritance">
<h3>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Inheritance is a mechanism that allows related classes to share code.</p></li>
<li><p>Inheritance allows a program to reflect the <em><a class="reference external" href="https://en.wikipedia.org/wiki/Ontology_(information_science)">ontology</a></em> of kinds of thing in a program.</p></li>
</ul>
</div>
<div class="section" id="ontology-and-inheritance">
<h3>Ontology and inheritance<a class="headerlink" href="#ontology-and-inheritance" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A bird is a kind of animal</p></li>
<li><p>An eagle is a kind of bird</p></li>
<li><p>A starling is also a kind of bird</p></li>
<li><p>All animals can be born and die</p></li>
<li><p>Only birds can fly (Ish.)</p></li>
<li><p>Only eagles hunt</p></li>
<li><p>Only starlings flock</p></li>
</ul>
</div>
<div class="section" id="inheritance-in-python">
<h3>Inheritance in python<a class="headerlink" href="#inheritance-in-python" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">beBorn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I exist&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">die</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Argh!&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Bird</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Whee!&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Eagle</span><span class="p">(</span><span class="n">Bird</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">hunt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m gonna eatcha!&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Starling</span><span class="p">(</span><span class="n">Bird</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">flew</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m flying away!&quot;</span><span class="p">)</span>


<span class="n">Eagle</span><span class="p">()</span><span class="o">.</span><span class="n">beBorn</span><span class="p">()</span>
<span class="n">Eagle</span><span class="p">()</span><span class="o">.</span><span class="n">hunt</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I exist
I&#39;m gonna eatcha!
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="inheritance-terminology">
<h3>Inheritance terminology<a class="headerlink" href="#inheritance-terminology" title="Permalink to this headline">¶</a></h3>
<p>Here are two equivalents definition, one coming from C++ and another from Java:</p>
<ul class="simple">
<li><p>A <em>derived class</em> <em>derives</em> from a <em>base class</em>.</p></li>
<li><p>A <em>subclass</em> <em>inherits</em> from a <em>superclass</em>.</p></li>
</ul>
<p>These are different terms for the same thing.
So, we can say:</p>
<ul class="simple">
<li><p>Eagle is a subclass of the Animal superclass.</p></li>
<li><p>Animal is the base class of the Eagle derived class.</p></li>
</ul>
<p>Another equivalent definition is using the synonym <em>child</em> / <em>parent</em> for <em>derived</em> / <em>base</em> class:</p>
<ul class="simple">
<li><p>A <em>child class</em> extends a <em>parent class</em>.</p></li>
</ul>
</div>
<div class="section" id="inheritance-and-constructors">
<h3>Inheritance and constructors<a class="headerlink" href="#inheritance-and-constructors" title="Permalink to this headline">¶</a></h3>
<p>To use implicitly constructors from a <em>superclass</em>, we can use <code class="docutils literal notranslate"><span class="pre">super</span></code> as shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>


<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</pre></div>
</div>
</div>
</div>
<p>Read <a class="reference external" href="https://twitter.com/raymondh">Raymond Hettinger</a>’s <a class="reference external" href="https://rhettinger.wordpress.com/2011/05/26/super-considered-super/">article about <code class="docutils literal notranslate"><span class="pre">super</span></code></a> to see various real examples.</p>
</div>
<div class="section" id="inheritance-uml-diagrams">
<h3>Inheritance UML diagrams<a class="headerlink" href="#inheritance-uml-diagrams" title="Permalink to this headline">¶</a></h3>
<p>UML shows inheritance with an open triangular arrow pointing from subclass to superclass.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yuml</span><span class="p">(</span><span class="s2">&quot;[Animal]^-[Bird],[Bird]^-[Eagle],[Bird]^-[Starling]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/07_05_classes_64_0.svg" src="../_images/07_05_classes_64_0.svg" /></div>
</div>
</div>
<div class="section" id="aggregation-vs-inheritance">
<h3>Aggregation vs Inheritance<a class="headerlink" href="#aggregation-vs-inheritance" title="Permalink to this headline">¶</a></h3>
<p>If one object <em>has</em> or <em>owns</em> one or more objects, this is <em>not</em> inheritance.</p>
<p>For example, the boids example we saw few weeks ago, could be organised as an overall Model, which it owns several Boids,
and each Boid owns two 2-vectors, one for position and one for velocity.</p>
</div>
<div class="section" id="aggregation-in-uml">
<h3>Aggregation in UML<a class="headerlink" href="#aggregation-in-uml" title="Permalink to this headline">¶</a></h3>
<p>The Boids situation can be represented thus:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yuml</span><span class="p">(</span><span class="s2">&quot;[Model]&lt;&gt;-*&gt;[Boid],[Boid]position++-&gt;[Vector],[Boid]velocity++-&gt;[Vector]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/07_05_classes_69_0.svg" src="../_images/07_05_classes_69_0.svg" /></div>
</div>
<p>The open diamond indicates <strong>Aggregation</strong>, the closed diamond <strong>composition</strong>.
(A given boid might belong to multiple models, a given position vector is forever part of the corresponding Boid.)</p>
<p>The asterisk represents cardinality, a model may contain multiple Boids. This is a <a class="reference external" href="https://en.wikipedia.org/wiki/One-to-many_(data_model)">one to many relationship</a>. <a class="reference external" href="https://en.wikipedia.org/wiki/Many-to-many_(data_model)">Many to many relationship</a> is shown with <code class="docutils literal notranslate"><span class="pre">*</span></code> on both sides.</p>
</div>
<div class="section" id="refactoring-to-inheritance">
<h3>Refactoring to inheritance<a class="headerlink" href="#refactoring-to-inheritance" title="Permalink to this headline">¶</a></h3>
<p>💩<strong>Smell</strong>: Repeated code between two classes which are both ontologically subtypes of something</p>
<p><strong>before:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">job</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">job</span> <span class="o">=</span> <span class="n">job</span>

    <span class="k">def</span> <span class="nf">birthday</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="k">class</span> <span class="nc">Pet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">owner</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">owner</span>

    <span class="k">def</span> <span class="nf">birthday</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<p><strong>after:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>

    <span class="k">def</span> <span class="nf">birthday</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">job</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">job</span> <span class="o">=</span> <span class="n">job</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Pet</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">owner</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">owner</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="polymorphism">
<h3>Polymorphism<a class="headerlink" href="#polymorphism" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Dog</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Bark&quot;</span>


<span class="k">class</span> <span class="nc">Cat</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Miaow&quot;</span>


<span class="k">class</span> <span class="nc">Pig</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Oink&quot;</span>


<span class="k">class</span> <span class="nc">Cow</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Moo&quot;</span>


<span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="n">Dog</span><span class="p">(),</span> <span class="n">Dog</span><span class="p">(),</span> <span class="n">Cat</span><span class="p">(),</span> <span class="n">Pig</span><span class="p">(),</span> <span class="n">Cow</span><span class="p">(),</span> <span class="n">Cat</span><span class="p">()]</span>
<span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">noise</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bark
Bark
Miaow
Oink
Moo
Miaow
</pre></div>
</div>
</div>
</div>
<p>This will print “Bark Bark Miaow Oink Moo Miaow”</p>
<p>If two classes support the same method, but it does different things for the two classes,
then if an object is of an unknown class, calling the method will invoke the version for
whatever class the instance is an instance of.</p>
</div>
</div>
<div class="section" id="polymorphism-and-inheritance">
<h2>Polymorphism and Inheritance<a class="headerlink" href="#polymorphism-and-inheritance" title="Permalink to this headline">¶</a></h2>
<p>Often, polymorphism uses multiple derived classes with a common base class.
However, <a class="reference external" href="https://en.wikipedia.org/wiki/Duck_typing">duck typing</a> in Python means that all that is required is that the
types support a common <strong>Concept</strong> (Such as iterable, or container, or, in this case, the
Noisy concept.)</p>
<p>A common base class is used where there is a likely <strong>default</strong> that you want several
of the derived classes to have.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;I don&#39;t make a noise.&quot;</span>


<span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Bark&quot;</span>


<span class="k">class</span> <span class="nc">Worm</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Poodle</span><span class="p">(</span><span class="n">Dog</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="n">Dog</span><span class="p">(),</span> <span class="n">Worm</span><span class="p">(),</span> <span class="n">Pig</span><span class="p">(),</span> <span class="n">Cow</span><span class="p">(),</span> <span class="n">Poodle</span><span class="p">()]</span>
<span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">animal</span><span class="o">.</span><span class="n">noise</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bark
I don&#39;t make a noise.
Oink
Moo
Bark
</pre></div>
</div>
</div>
</div>
<div class="section" id="undefined-functions-and-polymorphism">
<h3>Undefined Functions and Polymorphism<a class="headerlink" href="#undefined-functions-and-polymorphism" title="Permalink to this headline">¶</a></h3>
<p>In the above example, we put in a dummy noise for Animals that don’t know what type they are.</p>
<p>Instead, we can explicitly deliberately leave this undefined, and we get a crash if we access an undefined method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Worm</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Worm</span><span class="p">()</span><span class="o">.</span><span class="n">noise</span><span class="p">()</span>  <span class="c1"># Generates error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_16696</span><span class="o">/</span><span class="mf">2660778470.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">Worm</span><span class="p">()</span><span class="o">.</span><span class="n">noise</span><span class="p">()</span>  <span class="c1"># Generates error</span>

<span class="ne">AttributeError</span>: &#39;Worm&#39; object has no attribute &#39;noise&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="refactoring-to-polymorphism">
<h3>Refactoring to Polymorphism<a class="headerlink" href="#refactoring-to-polymorphism" title="Permalink to this headline">¶</a></h3>
<p>Smell: a function uses a big set of <code class="docutils literal notranslate"><span class="pre">if</span></code> statements or a <code class="docutils literal notranslate"><span class="pre">case</span></code> statement to decide what to do:</p>
<p>Before:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">animal_kind</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animal_kind</span> <span class="o">=</span> <span class="n">animal_kind</span>

    <span class="k">def</span> <span class="nf">noise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">animal_kind</span> <span class="o">==</span> <span class="s2">&quot;Dog&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Bark&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">animal_kind</span> <span class="o">==</span> <span class="s2">&quot;Cat&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Miaow&quot;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">animal_kind</span> <span class="o">==</span> <span class="s2">&quot;Cow&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Moo&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>which is better replaced by the code above.</p>
</div>
<div class="section" id="interfaces-and-concepts">
<h3>Interfaces and concepts<a class="headerlink" href="#interfaces-and-concepts" title="Permalink to this headline">¶</a></h3>
<p>In C++, it is common to define classes which declare dummy methods, called “virtual” methods, which specify
the methods which derived classes must implement. Classes which define these methods, but which cannot be instantiated
into actual objects, are called “abstract base” classes or “interfaces”.</p>
<p>Python’s Duck Typing approach means explicitly declaring these is unnesssary: any class concept which implements
appropriately named methods will do. These as user-defined <strong>concepts</strong>, just as “iterable” or “container” are
built-in Python concepts. A class is said to “implement an interface” or “satisfy a concept”.</p>
</div>
<div class="section" id="interfaces-in-uml">
<h3>Interfaces in UML<a class="headerlink" href="#interfaces-in-uml" title="Permalink to this headline">¶</a></h3>
<p>Interfaces implementation (a common ancestor that doesn’t do anything but defines methods to share) in UML is indicated thus:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yuml</span><span class="p">(</span><span class="s2">&quot;[&lt;&lt;Animal&gt;&gt;]^-.-[Dog]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/07_05_classes_94_0.svg" src="../_images/07_05_classes_94_0.svg" /></div>
</div>
</div>
<div class="section" id="further-uml">
<h3>Further UML<a class="headerlink" href="#further-uml" title="Permalink to this headline">¶</a></h3>
<p>UML is a much larger diagram language than the aspects we’ve shown here.</p>
<ul class="simple">
<li><p>Message sequence charts show signals passing back and forth between objects (<a class="reference external" href="https://www.websequencediagrams.com/">Web Sequence Diagrams</a>).</p></li>
<li><p>Entity Relationship Diagrams can be used to show more general relationships between things in a system.</p></li>
</ul>
<p>Read more about UML on Martin Fowler’s <a class="reference external" href="https://martinfowler.com/books/uml.html">book about the topic</a>.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./module07_construction_and_design"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="07_04_object_oriented_design.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Design</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="07_06_design_patterns.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Patterns</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By The Alan Turing Institute<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>